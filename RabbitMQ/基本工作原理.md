# 简介
RabbitMQ是一个开源的消息代理软件。它接收生产者发布的消息并发送给消费者。它扮演中间商的角色，可以用来降低web服务器因发送消息带来的负载以及延时。他是一个采用 Erlang 语言实现 `AMQP (Advanced Message Queuing Protocol`) 高级消息队列协议的消息中间件

# 几个重要概念：
-   生产者 `Producer`：发送消息的应用。
-   消费者 `Consumer`：接收消息的应用。
-   队列 `Queue`：存储消息的缓存。
-   消息 `Message`：由生产者通过`RabbitMQ`发送给消费者的信息。
-   连接 `Connection`：连接`RabbitMQ`和应用服务器的TCP连接。
-   通道 `Channel`：连接里的一个虚拟通道。当你通过消息队列发送或者接收消息时，这个操作都是通过通道进行的。
-   交换机 `Exchange`：交换机负责从生产者那里接收消息，并根据交换类型分发到对应的消息列队里。要实现消息的接收，一个队列必须到绑定一个交换机。
-   绑定 `Binding`：绑定是队列和交换机的一个关联连接。
-   路由键 `Routing Key`：路由键是供交换机查看并根据键来决定如何分发消息到列队的一个键，可以说是消息的目的地址。

# 基本原理
![](基本工作原理/Pasted%20image%2020220505141347.png)
消息生产者`Provider`通过RabbitMQ服务器的交换机`Exchange`把消息`Message`发布到队列`Queue`, 消息消费者`Consumer`通过监听订阅队列处理消息。其中，消息包含消息体和标签两部分，消息体是业务逻辑的数据结构，标签是表述消息体的信息，标签会在路由过程中丢失，不会被消费者消费。

## 客户端与RabbitMQ通信时序图
![[Pasted image 20220505141851.png]]