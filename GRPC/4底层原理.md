# 底层原理
## RPC流
下面展示了RPC如何通过网络来运行：
![](4.底层原理/Pasted%20image%2020221001162210.png)
运行流程如下：
1. 客户端进程通过生成的代码调用`getProduct`方法
2. 客户端存根创建HTTP POST请求
	- `content-type=application/grpc`
	- 远程方法`/production/getProduct`放在HTTP/2的头中
3. HTTP请求通过网络发送到服务端
4. 服务端接收到消息后，检查消息头信息确定调用的服务方法，传递给服务端骨架
5. 服务端骨架将消息字节解析成特定语言的数据结构
6. 借助解析后的消息，服务发起对`getProduct`方法的本地调用
7. 服务方法的相应经过编码后发回客户端

